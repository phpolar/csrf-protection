<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="467px" preserveAspectRatio="none" style="width:844px;height:467px;" version="1.1" viewBox="0 0 844 467" width="844px" zoomAndPan="magnify"><defs/><g><!--MD5=[540ebe81cd522f86a29871f64de41617]
cluster Phpolar\\CsrfProtection--><polygon fill="#FFFFFF" points="34.5,305,220.5,305,227.5,327.2969,230.5,327.2969,230.5,455,34.5,455,34.5,305" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="34.5" x2="227.5" y1="327.2969" y2="327.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="38.5" y="319.9951">Phpolar\CsrfProtection</text><!--MD5=[b0599d64809b33a47852a51499c9b6df]
cluster Phpolar\\CsrfProtection\\Http--><polygon fill="#FFFFFF" points="271,131,495,131,502,153.2969,822,153.2969,822,415,271,415,271,131" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="271" x2="502" y1="153.2969" y2="153.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="275" y="145.9951">Phpolar\CsrfProtection\Http</text><!--MD5=[8e860edd58322d7276ac762460b19afb]
cluster Psr\\Http\\Server--><polygon fill="#FFFFFF" points="22,131,150,131,157,153.2969,243,153.2969,243,281,22,281,22,131" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="157" y1="153.2969" y2="153.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="26" y="145.9951">Psr\Http\Server</text><!--MD5=[4214a011deaa3a50b2f5d003099ceada]
cluster Phpolar\\CsrfProtection\\Storage--><polygon fill="#FFFFFF" points="30.5,24,283.5,24,290.5,46.2969,504.5,46.2969,504.5,107,30.5,107,30.5,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="30.5" x2="290.5" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="247" x="34.5" y="38.9951">Phpolar\CsrfProtection\Storage</text><!--MD5=[e43d7e1031fd6c0e780976ee6e7f49d7]
class Phpolar\\CsrfProtection\\CsrfToken--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\CsrfToken" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="85.5" y="340"/><ellipse cx="100.5" cy="356" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M103.4688,361.6406 Q102.8906,361.9375 102.25,362.0781 Q101.6094,362.2344 100.9063,362.2344 Q98.4063,362.2344 97.0781,360.5938 Q95.7656,358.9375 95.7656,355.8125 Q95.7656,352.6875 97.0781,351.0313 Q98.4063,349.375 100.9063,349.375 Q101.6094,349.375 102.25,349.5313 Q102.9063,349.6875 103.4688,349.9844 L103.4688,352.7031 Q102.8438,352.125 102.25,351.8594 Q101.6563,351.5781 101.0313,351.5781 Q99.6875,351.5781 99,352.6563 Q98.3125,353.7188 98.3125,355.8125 Q98.3125,357.9063 99,358.9844 Q99.6875,360.0469 101.0313,360.0469 Q101.6563,360.0469 102.25,359.7813 Q102.8438,359.5 103.4688,358.9219 L103.4688,361.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="114.5" y="360.1543">CsrfToken</text><!--MD5=[fc180e3dee81ea9a391c3b8056d3ef96]
class Phpolar\\CsrfProtection\\CsrfTokenGenerator--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\CsrfTokenGenerator" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="53.5" y="407"/><ellipse cx="68.5" cy="423" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M71.4688,428.6406 Q70.8906,428.9375 70.25,429.0781 Q69.6094,429.2344 68.9063,429.2344 Q66.4063,429.2344 65.0781,427.5938 Q63.7656,425.9375 63.7656,422.8125 Q63.7656,419.6875 65.0781,418.0313 Q66.4063,416.375 68.9063,416.375 Q69.6094,416.375 70.25,416.5313 Q70.9063,416.6875 71.4688,416.9844 L71.4688,419.7031 Q70.8438,419.125 70.25,418.8594 Q69.6563,418.5781 69.0313,418.5781 Q67.6875,418.5781 67,419.6563 Q66.3125,420.7188 66.3125,422.8125 Q66.3125,424.9063 67,425.9844 Q67.6875,427.0469 69.0313,427.0469 Q69.6563,427.0469 70.25,426.7813 Q70.8438,426.5 71.4688,425.9219 L71.4688,428.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="82.5" y="427.1543">CsrfTokenGenerator</text><!--MD5=[e408896b58cb043f153e1cc54118f0bf]
class Phpolar\\CsrfProtection\\Http\\CsrfProtectionRequestHandler--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\Http\\CsrfProtectionRequestHandler" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="293" y="166"/><ellipse cx="308" cy="182" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M310.9688,187.6406 Q310.3906,187.9375 309.75,188.0781 Q309.1094,188.2344 308.4063,188.2344 Q305.9063,188.2344 304.5781,186.5938 Q303.2656,184.9375 303.2656,181.8125 Q303.2656,178.6875 304.5781,177.0313 Q305.9063,175.375 308.4063,175.375 Q309.1094,175.375 309.75,175.5313 Q310.4063,175.6875 310.9688,175.9844 L310.9688,178.7031 Q310.3438,178.125 309.75,177.8594 Q309.1563,177.5781 308.5313,177.5781 Q307.1875,177.5781 306.5,178.6563 Q305.8125,179.7188 305.8125,181.8125 Q305.8125,183.9063 306.5,184.9844 Q307.1875,186.0469 308.5313,186.0469 Q309.1563,186.0469 309.75,185.7813 Q310.3438,185.5 310.9688,184.9219 L310.9688,187.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="190" x="322" y="186.1543">CsrfProtectionRequestHandler</text><!--MD5=[a793c685d1399d54fc1277f95f0636e2]
class Phpolar\\CsrfProtection\\Http\\CsrfRequestCheckMiddleware--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\Http\\CsrfRequestCheckMiddleware" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="296" y="233"/><ellipse cx="311" cy="249" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M313.9688,254.6406 Q313.3906,254.9375 312.75,255.0781 Q312.1094,255.2344 311.4063,255.2344 Q308.9063,255.2344 307.5781,253.5938 Q306.2656,251.9375 306.2656,248.8125 Q306.2656,245.6875 307.5781,244.0313 Q308.9063,242.375 311.4063,242.375 Q312.1094,242.375 312.75,242.5313 Q313.4063,242.6875 313.9688,242.9844 L313.9688,245.7031 Q313.3438,245.125 312.75,244.8594 Q312.1563,244.5781 311.5313,244.5781 Q310.1875,244.5781 309.5,245.6563 Q308.8125,246.7188 308.8125,248.8125 Q308.8125,250.9063 309.5,251.9844 Q310.1875,253.0469 311.5313,253.0469 Q312.1563,253.0469 312.75,252.7813 Q313.3438,252.5 313.9688,251.9219 L313.9688,254.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="325" y="253.1543">CsrfRequestCheckMiddleware</text><!--MD5=[23ff9cedbc439124cac828ea0e475bb0]
class Phpolar\\CsrfProtection\\Http\\CsrfResponseFilterMiddleware--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\Http\\CsrfResponseFilterMiddleware" style="stroke: #A80036; stroke-width: 1.5;" width="219" x="294.5" y="300"/><ellipse cx="309.5" cy="316" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M312.4688,321.6406 Q311.8906,321.9375 311.25,322.0781 Q310.6094,322.2344 309.9063,322.2344 Q307.4063,322.2344 306.0781,320.5938 Q304.7656,318.9375 304.7656,315.8125 Q304.7656,312.6875 306.0781,311.0313 Q307.4063,309.375 309.9063,309.375 Q310.6094,309.375 311.25,309.5313 Q311.9063,309.6875 312.4688,309.9844 L312.4688,312.7031 Q311.8438,312.125 311.25,311.8594 Q310.6563,311.5781 310.0313,311.5781 Q308.6875,311.5781 308,312.6563 Q307.3125,313.7188 307.3125,315.8125 Q307.3125,317.9063 308,318.9844 Q308.6875,320.0469 310.0313,320.0469 Q310.6563,320.0469 311.25,319.7813 Q311.8438,319.5 312.4688,318.9219 L312.4688,321.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="187" x="323.5" y="320.1543">CsrfResponseFilterMiddleware</text><!--MD5=[616093699369591e5900d727455f1e1e]
class Phpolar\\CsrfProtection\\Http\\ResponseFilterPatternStrategy--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\Http\\ResponseFilterPatternStrategy" style="stroke: #A80036; stroke-width: 1.5;" width="225" x="581" y="367"/><ellipse cx="596" cy="383" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M598.9688,388.6406 Q598.3906,388.9375 597.75,389.0781 Q597.1094,389.2344 596.4063,389.2344 Q593.9063,389.2344 592.5781,387.5938 Q591.2656,385.9375 591.2656,382.8125 Q591.2656,379.6875 592.5781,378.0313 Q593.9063,376.375 596.4063,376.375 Q597.1094,376.375 597.75,376.5313 Q598.4063,376.6875 598.9688,376.9844 L598.9688,379.7031 Q598.3438,379.125 597.75,378.8594 Q597.1563,378.5781 596.5313,378.5781 Q595.1875,378.5781 594.5,379.6563 Q593.8125,380.7188 593.8125,382.8125 Q593.8125,384.9063 594.5,385.9844 Q595.1875,387.0469 596.5313,387.0469 Q597.1563,387.0469 597.75,386.7813 Q598.3438,386.5 598.9688,385.9219 L598.9688,388.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="193" x="610" y="387.1543">ResponseFilterPatternStrategy</text><!--MD5=[5fe8943d5d67ae48496794a71a644222]
class Phpolar\\CsrfProtection\\Http\\ResponseFilterStrategyInterface--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\Http\\ResponseFilterStrategyInterface" style="stroke: #A80036; stroke-width: 1.5;" width="234" x="287" y="367"/><ellipse cx="302" cy="383" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M297.9219,378.7656 L297.9219,376.6094 L305.3125,376.6094 L305.3125,378.7656 L302.8438,378.7656 L302.8438,386.8438 L305.3125,386.8438 L305.3125,389 L297.9219,389 L297.9219,386.8438 L300.3906,386.8438 L300.3906,378.7656 L297.9219,378.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="202" x="316" y="387.1543">ResponseFilterStrategyInterface</text><!--MD5=[eb647d64e0e505aae508247625db42c9]
class Psr\\Http\\Server\\RequestHandlerInterface--><rect fill="#FEFECE" height="32" id="Psr\\Http\\Server\\RequestHandlerInterface" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="38" y="166"/><ellipse cx="53" cy="182" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M48.9219,177.7656 L48.9219,175.6094 L56.3125,175.6094 L56.3125,177.7656 L53.8438,177.7656 L53.8438,185.8438 L56.3125,185.8438 L56.3125,188 L48.9219,188 L48.9219,185.8438 L51.3906,185.8438 L51.3906,177.7656 L48.9219,177.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="157" x="67" y="186.1543">RequestHandlerInterface</text><!--MD5=[c9ec0e3c1f519dc0c5f59d9d724f4fc8]
class Psr\\Http\\Server\\MiddlewareInterface--><rect fill="#FEFECE" height="32" id="Psr\\Http\\Server\\MiddlewareInterface" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="52.5" y="233"/><ellipse cx="67.5" cy="249" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M63.4219,244.7656 L63.4219,242.6094 L70.8125,242.6094 L70.8125,244.7656 L68.3438,244.7656 L68.3438,252.8438 L70.8125,252.8438 L70.8125,255 L63.4219,255 L63.4219,252.8438 L65.8906,252.8438 L65.8906,244.7656 L63.4219,244.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="128" x="81.5" y="253.1543">MiddlewareInterface</text><!--MD5=[76ef2183bb69fb596acc56381e5ad73a]
class Phpolar\\CsrfProtection\\Storage\\AbstractTokenStorage--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\Storage\\AbstractTokenStorage" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="46.5" y="59"/><ellipse cx="61.5" cy="75" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M61.6094,70.3438 L60.4531,75.4219 L62.7813,75.4219 L61.6094,70.3438 Z M60.125,68.1094 L63.1094,68.1094 L66.4688,80.5 L64.0156,80.5 L63.25,77.4375 L59.9688,77.4375 L59.2188,80.5 L56.7813,80.5 L60.125,68.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="140" x="75.5" y="79.1543">AbstractTokenStorage</text><!--MD5=[941bddd591b0bcc36ba0f86d7c1cce8e]
class Phpolar\\CsrfProtection\\Storage\\SessionTokenStorage--><rect fill="#FEFECE" height="32" id="Phpolar\\CsrfProtection\\Storage\\SessionTokenStorage" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="319.5" y="59"/><ellipse cx="334.5" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M337.4688,80.6406 Q336.8906,80.9375 336.25,81.0781 Q335.6094,81.2344 334.9063,81.2344 Q332.4063,81.2344 331.0781,79.5938 Q329.7656,77.9375 329.7656,74.8125 Q329.7656,71.6875 331.0781,70.0313 Q332.4063,68.375 334.9063,68.375 Q335.6094,68.375 336.25,68.5313 Q336.9063,68.6875 337.4688,68.9844 L337.4688,71.7031 Q336.8438,71.125 336.25,70.8594 Q335.6563,70.5781 335.0313,70.5781 Q333.6875,70.5781 333,71.6563 Q332.3125,72.7188 332.3125,74.8125 Q332.3125,76.9063 333,77.9844 Q333.6875,79.0469 335.0313,79.0469 Q335.6563,79.0469 336.25,78.7813 Q336.8438,78.5 337.4688,77.9219 L337.4688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="348.5" y="79.1543">SessionTokenStorage</text><!--MD5=[502ca5a7ee96f44f5e257cb82cd36f2a]
reverse link Psr\\Http\\Server\\RequestHandlerInterface to Phpolar\\CsrfProtection\\Http\\CsrfProtectionRequestHandler--><path d="M247.08,182 C247.08,182 292.99,182 292.99,182 " fill="none" id="Psr\\Http\\Server\\RequestHandlerInterface&lt;-Phpolar\\CsrfProtection\\Http\\CsrfProtectionRequestHandler" style="stroke: #516F42; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="247.08,189,227.08,182,247.08,175,247.08,189" style="stroke: #516F42; stroke-width: 1.0;"/><!--MD5=[c1907b9c47702894484bf454c4dcb06a]
reverse link Psr\\Http\\Server\\MiddlewareInterface to Phpolar\\CsrfProtection\\Http\\CsrfRequestCheckMiddleware--><path d="M232.86,249 C232.86,249 295.67,249 295.67,249 " fill="none" id="Psr\\Http\\Server\\MiddlewareInterface&lt;-Phpolar\\CsrfProtection\\Http\\CsrfRequestCheckMiddleware" style="stroke: #516F42; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="232.86,256,212.86,249,232.86,242,232.86,256" style="stroke: #516F42; stroke-width: 1.0;"/><!--MD5=[c142cb715253b75370a1f377ab67aeda]
reverse link Psr\\Http\\Server\\MiddlewareInterface to Phpolar\\CsrfProtection\\Http\\CsrfResponseFilterMiddleware--><path d="M196,285.22 C196,285.22 196,316 196,316 C196,316 244.21,316 294.21,316 " fill="none" id="Psr\\Http\\Server\\MiddlewareInterface&lt;-Phpolar\\CsrfProtection\\Http\\CsrfResponseFilterMiddleware" style="stroke: #516F42; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="189,285.22,196,265.22,203,285.22,189,285.22" style="stroke: #516F42; stroke-width: 1.0;"/><!--MD5=[e1654aca38ecd956c37074565c76948f]
reverse link Phpolar\\CsrfProtection\\Http\\ResponseFilterStrategyInterface to Phpolar\\CsrfProtection\\Http\\ResponseFilterPatternStrategy--><path d="M541.33,383 C541.33,383 580.69,383 580.69,383 " fill="none" id="Phpolar\\CsrfProtection\\Http\\ResponseFilterStrategyInterface&lt;-Phpolar\\CsrfProtection\\Http\\ResponseFilterPatternStrategy" style="stroke: #516F42; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="541.33,390,521.33,383,541.33,376,541.33,390" style="stroke: #516F42; stroke-width: 1.0;"/><!--MD5=[ebe49e231e210efe761595e85ab441b7]
reverse link Phpolar\\CsrfProtection\\Storage\\AbstractTokenStorage to Phpolar\\CsrfProtection\\Storage\\SessionTokenStorage--><path d="M238.78,75 C238.78,75 319.34,75 319.34,75 " fill="none" id="Phpolar\\CsrfProtection\\Storage\\AbstractTokenStorage&lt;-Phpolar\\CsrfProtection\\Storage\\SessionTokenStorage" style="stroke: #516F42; stroke-width: 1.0;"/><polygon fill="none" points="238.78,82,218.78,75,238.78,68,238.78,82" style="stroke: #516F42; stroke-width: 1.0;"/><!--MD5=[86512b8f7e9a195d3b21a576d9029754]
@startuml
   skinparam ArrowColor #516f42
   skinparam activityBorderColor #516f42
   skinparam activityBackgroundColor #ffffff
   skinparam activityDiamondBorderColor #516f42
   skinparam activityDiamondBackgroundColor #ffffff
   skinparam shadowing false

skinparam shadowing false
skinparam linetype ortho
hide empty members
left to right direction
set namespaceSeparator \\


class \\Phpolar\\CsrfProtection\\CsrfToken {
}

class \\Phpolar\\CsrfProtection\\CsrfTokenGenerator {
}

class \\Phpolar\\CsrfProtection\\Http\\CsrfProtectionRequestHandler implements \\Psr\\Http\\Server\\RequestHandlerInterface {
}

class \\Phpolar\\CsrfProtection\\Http\\CsrfRequestCheckMiddleware implements \\Psr\\Http\\Server\\MiddlewareInterface {
}

class \\Phpolar\\CsrfProtection\\Http\\CsrfResponseFilterMiddleware implements \\Psr\\Http\\Server\\MiddlewareInterface {
}

class \\Phpolar\\CsrfProtection\\Http\\ResponseFilterPatternStrategy implements \\Phpolar\\CsrfProtection\\Http\\ResponseFilterStrategyInterface {
}

interface \\Phpolar\\CsrfProtection\\Http\\ResponseFilterStrategyInterface {
}

abstract class \\Phpolar\\CsrfProtection\\Storage\\AbstractTokenStorage {
}

class \\Phpolar\\CsrfProtection\\Storage\\SessionTokenStorage extends \\Phpolar\\CsrfProtection\\Storage\\AbstractTokenStorage {
}

@enduml

PlantUML version 1.2020.02(Sun Mar 01 04:22:07 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.17+8-post-Ubuntu-1ubuntu222.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>